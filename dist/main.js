(()=>{"use strict";(()=>{var e=JSON.parse('{"G":[{"name":"Mimi Keel","id":243,"city":"London","country":"UK","tags":["portrait","events","travel","animals"],"tagline":"Voir le beau dans le quotidien","price":400,"portrait":"MimiKeel.jpg"},{"name":"Ellie-Rose Wilkens","id":930,"city":"Paris","country":"France","tags":["sport","architecture"],"tagline":"Capturer des compositions complexes","price":250,"portrait":"EllieRoseWilkens.jpg"},{"name":"Tracy Galindo","id":82,"city":"Montreal","country":"Canada","tags":["art","fashion","events"],"tagline":"Photographe freelance","price":500,"portrait":"TracyGalindo.jpg"},{"name":"Nabeel Bradford","id":527,"city":"Mexico City","country":"Mexico","tags":["travel","portrait"],"tagline":"Toujours aller de l\'avant","price":350,"portrait":"NabeelBradford.jpg"},{"name":"Rhode Dubois","id":925,"city":"Barcelona","country":"Spain","tags":["sport","fashion","events","animals"],"tagline":"Je crée des souvenirs","price":275,"portrait":"RhodeDubois.jpg"},{"name":"Marcel Nikolic","id":195,"city":"Berlin","country":"Germany","tags":["travel","architecture"],"tagline":"Toujours à la recherche de LA photo","price":300,"portrait":"MarcelNikolic.jpg"}],"B":[{"id":342550,"photographerId":82,"title":"Fashion Yellow Beach","image":"Fashion_Yellow_Beach.jpg","tags":["fashion"],"likes":62,"date":"2011-12-08","price":55,"alt":"photo de mode avec modèle femme brune en tenue de jogging jaune chic avec bottes à talons blanches et terrain de basket en arrière plan"},{"id":8520927,"photographerId":82,"title":"Fashion Urban Jungle","image":"Fashion_Urban_Jungle.jpg","tags":["fashion"],"likes":11,"date":"2011-11-06","price":55,"alt":"photo de mode avec modèle femme blonde platine accroupie en combinaison motif végétal au milieu de la route sur un pont"},{"id":9025895,"photographerId":82,"title":"Fashion Pattern on a Pattern","image":"Fashion_Pattern_on_Pattern.jpg","tags":["fashion"],"likes":72,"date":"2013-08-12","price":55,"alt":"photo de mode avec modèle femme brune en robe rayée et sac à main rouge devant un mur à carreaux"},{"id":9275938,"photographerId":82,"title":"Wedding Gazebo","image":"Event_WeddingGazebo.jpg","tags":["events"],"likes":69,"date":"2018-02-22","price":55,"alt":"photo d\'un belvédère décoré en autel pour un mariage en extérieur"},{"id":2053494,"photographerId":82,"title":"Sparkles","image":"Event_Sparklers.jpg","tags":["events"],"likes":2,"date":"2020-05-25","price":55,"alt":"photo de mariés de dos de nuit avec des invités qui tiennent des cierges magiques"},{"id":7324238,"photographerId":82,"title":"18th Anniversary","image":"Event_18thAnniversary.jpg","tags":["events"],"likes":33,"date":"2019-06-12","price":55,"alt":"photo d\'une table d\'anniversaire pour les 18 ans"},{"id":8328953,"photographerId":82,"title":"Wooden Horse Sculpture","video":"Art_Wooden_Horse_Sculpture.mp4","tags":["art"],"likes":24,"date":"2011-12-08","price":100,"alt":"video d\'une sculpture en bois représentant un cheval"},{"id":7502053,"photographerId":82,"title":"Triangle Man","image":"Art_Triangle_Man.jpg","tags":["art"],"likes":88,"date":"2007-05-07","price":55,"alt":"photo de street art avec un buste d\'homme sur fond bleu et grand triangle blanc au premier plan"},{"id":8523492,"photographerId":82,"title":"Purple Tunnel","image":"Art_Purple_light.jpg","tags":["art"],"likes":24,"date":"2018-05-05","price":55,"alt":"photo de street art avec des graffitis très colorés dans un tunnel sous une lumière violette"},{"id":75902334,"photographerId":82,"title":"Art Mine","image":"Art_Mine.jpg","tags":["art"],"likes":75,"date":"2019-11-25","price":55,"alt":"photo de street art avec des têtes d\'oiseaux rouges et bleus"},{"id":73852953,"photographerId":925,"title":"8 Rows","image":"Sport_2000_with_8.jpg","tags":["sport"],"likes":52,"date":"2013-02-30","price":70,"alt":"photo vue en plongée d\'une équipe d\'aviron"},{"id":92758372,"photographerId":925,"title":"Fashion Wings","image":"Fashion_Wings.jpg","tags":["fashion"],"likes":58,"date":"2018-07-17","price":70,"alt":"photo de mode d\'un couple dansant avec un bras en l\'air formant des ailes"},{"id":32958383,"photographerId":925,"title":"Melody Red on Stripes","image":"Fashion_Melody_Red_on_Stripes.jpg","tags":["fashion"],"likes":11,"date":"2019-08-12","price":70,"alt":"photo de mode avec femme en robe longue rouge descendant un escalier dans la rue"},{"id":928587383,"photographerId":925,"title":"Venture Conference","image":"Event_VentureConference.jpg","tags":["events"],"likes":2,"date":"2019-01-02","price":70,"alt":"photo d\'une femme présentant lors d\'une réunion dans un bureau avec ses collègues"},{"id":725639493,"photographerId":925,"title":"Product Pitch","image":"Event_ProductPitch.jpg","tags":["events"],"likes":3,"date":"2019-05-20","price":70,"alt":"photo d\'un homme et son audience lors d\'une conférence dans des bureaux"},{"id":23394384,"photographerId":925,"title":"Musical Festival Keyboard","image":"Event_KeyboardCheck.jpg","tags":["events"],"likes":52,"date":"2019-07-18","price":70,"alt":"photo noir et blanc d\'une musicienne jouant du synthétiseur à un concert"},{"id":87367293,"photographerId":925,"title":"Musical Festival Singer","image":"Event_Emcee.jpg","tags":["events"],"likes":23,"date":"2018-02-22","price":70,"alt":"photo d\'une chanteuse avec coupe afro et tee-shirt à franges à un concert sur scène"},{"id":593834784,"photographerId":925,"title":"Animal Majesty","image":"Animals_Majesty.jpg","tags":["animals"],"likes":52,"date":"2017-03-13","price":70,"alt":"photo d\'un cerf dans la nature"},{"id":83958935,"photographerId":925,"title":"Cute Puppy on Sunset","video":"Animals_Puppiness.mp4","tags":["animals"],"likes":52,"date":"2016-06-12","price":70,"alt":"video d\'un chiot noir et blanc jouant sur une plage au coucher de soleil"},{"id":83958946,"photographerId":925,"title":"Butterfly on water","image":"Sport_Butterfly.jpg","tags":["sport"],"likes":13,"date":"2017-03-13","price":32,"alt":"photo d\'un nageur entrain de nager le papillon dans une piscine"},{"id":394583434,"photographerId":527,"title":"Rock Mountains","video":"Travel_Rock_Mountains.mp4","tags":["travel"],"likes":23,"date":"2017-03-18","price":45,"alt":"video d\'une vue aérienne d\'une crète de massif montagneux"},{"id":343423425,"photographerId":527,"title":"Outdoor Baths","image":"Travel_Outdoor_Baths.jpg","tags":["travel"],"likes":101,"date":"2017-04-03","price":45,"alt":"photo de personnes se baignant au loin dans un lac aux couleurs lactés alimenté en eau chaude naturelle en islande"},{"id":73434243,"photographerId":527,"title":"Road into the Hill","image":"Travel_Road_into_Hill.jpg","tags":["travel"],"likes":99,"date":"2018-04-30","price":45,"alt":"photo d\'une route sinuant dans les collines en Ecosse"},{"id":23425523,"photographerId":527,"title":"Bridge into the Forest","image":"Travel_Bridge_into_Forest.jpg","tags":["travel"],"likes":34,"date":"2016-04-05","price":45,"alt":"photo d\'un long et fin pont en bois qui mène vers une forêt"},{"id":23134513,"photographerId":527,"title":"Boat Wonderer","image":"Travel_Boat_Wanderer.jpg","tags":["travel"],"likes":23,"date":"2017-03-18","price":45,"alt":"photo de l\'avant d\'une barque en bois sur une rivière de montagne"},{"id":92352352,"photographerId":527,"title":"Portrait Sunkiss","image":"Portrait_Sunkissed.jpg","tags":["portrait"],"likes":66,"date":"2018-05-24","price":45,"alt":"photo portrait d\'une jeune femme rousse qui sourit avec rouge à lèvres rouge et beaucoup de tâches de rousseur"},{"id":34513453,"photographerId":527,"title":"Shaw Potrait","image":"Portrait_Shaw.jpg","tags":["portrait"],"likes":52,"date":"2017-04-21","price":45,"alt":"photo portrait en noir et blanc très contrastée d\'un homme métisse sur fond noir"},{"id":23523533,"photographerId":527,"title":"Alexandra","image":"Portrait_Alexandra.jpg","tags":["portrait"],"likes":95,"date":"2018-11-02","price":45,"alt":"photo portrait en noir et blanc d\'une femme nommée Alexandra, black aux cheveux très courts blond platine"},{"id":525834234,"photographerId":527,"title":"Afternoon Break","image":"Portrait_AfternoonBreak.jpg","tags":["portrait"],"likes":25,"date":"2019-01-02","price":45,"alt":"photo portrait en noir et blanc d\'un homme âgé avec une cigarette"},{"id":525834243,"photographerId":527,"title":"Into the Grand Canyon","image":"Travel_On_the_Road.jpg","tags":["travel"],"likes":32,"date":"2019-01-12","price":41,"alt":"photo d\'un van sur la route dans des canyons"},{"id":623534343,"photographerId":243,"title":"Lonesome","image":"Travel_Lonesome.jpg","tags":["travel"],"likes":88,"date":"2019-02-03","price":45,"alt":"photo d\'un paysage montagneux avec personne seule au loin en haut d\'un pic rocheux"},{"id":625025343,"photographerId":243,"title":"Hillside Color","image":"Travel_HillsideColor.jpg","tags":["travel"],"likes":85,"date":"2019-04-03","price":45,"alt":"photo d\'un paysage de bord de mer avec maisons très colorées le long de la côte"},{"id":2525345343,"photographerId":243,"title":"Wednesday Potrait","image":"Portrait_Wednesday.jpg","tags":["portrait"],"likes":34,"date":"2019-04-07","price":45,"alt":"photo en noir et blanc portrait d\'un enfant qui fait la grimace"},{"id":2523434634,"photographerId":243,"title":"Nora Portrait","image":"Portrait_Nora.jpg","tags":["portrait"],"likes":63,"date":"2019-04-07","price":45,"alt":"photo portrait d\'une jeune femme avec des cheveux très courts et des lunettes dans un décor de diner"},{"id":398847109,"photographerId":243,"title":"Raw Black Portrait","image":"Portrait_Background.jpg","tags":["portrait"],"likes":55,"date":"2019-06-20","price":45,"alt":"photo portrait en noir et blanc d\'une femme sur fond noir"},{"id":2534342,"photographerId":243,"title":"Seaside Wedding","image":"Event_SeasideWedding.jpg","tags":["events"],"likes":25,"date":"2019-06-21","price":45,"alt":"photo d\'une table décorée pour un mariage sur la plage"},{"id":65235234,"photographerId":243,"title":"Boulder Wedding","image":"Event_PintoWedding.jpg","tags":["events"],"likes":52,"date":"2019-06-25","price":45,"alt":"photo de 2 mariés front contre front dans un décor de rochers"},{"id":23523434,"photographerId":243,"title":"Benevides Wedding","image":"Event_BenevidesWedding.jpg","tags":["events"],"likes":77,"date":"2019-06-28","price":45,"alt":"photo de 2 mariés enlancés et heureux"},{"id":5234343,"photographerId":243,"title":"Wild Horses in the Mountains","video":"Animals_Wild_Horses_in_the_mountains.mp4","tags":["animals"],"likes":142,"date":"2019-08-23","price":60,"alt":"video d\'un troupeau de chevaux sauvages marchant dans la montagne"},{"id":95234343,"photographerId":243,"title":"Rainbow Bird","image":"Animals_Rainbow.jpg","tags":["animals"],"likes":59,"date":"2019-07-02","price":60,"alt":"photo d\'un petit oiseau aux couleurs de l\'arc en ciel"},{"id":52343416,"photographerId":195,"title":"Japanese Tower, Kyoto","image":"Travel_Tower.jpg","tags":["travel"],"likes":25,"date":"2019-04-03","price":60,"alt":"photo de 2 japonaises dans les rues du vieux Kyoto à la tombée de la nuit"},{"id":2523434,"photographerId":195,"title":"Sunset on Canals, Venice","image":"Travel_SunsetonCanals.jpg","tags":["travel"],"likes":53,"date":"2019-05-06","price":60,"alt":"photo de canal de la ville de Venise avec des bateaux au coucher de soleil"},{"id":95293534,"photographerId":195,"title":"Mountain and Lake","image":"Travel_OpenMountain.jpg","tags":["travel"],"likes":33,"date":"2019-05-12","price":60,"alt":"photo d\'un paysage de montagne autour d\'un lac"},{"id":356234343,"photographerId":195,"title":"City Bike and Stair, Paris","image":"Travel_Bike_and_Stair.jpg","tags":["travel"],"likes":53,"date":"2019-06-20","price":60,"alt":"photo d\'un vélo posé contre un lampadaire en bas d\'escaliers d\'une rue pavée à Paris"},{"id":235234343,"photographerId":195,"title":"Adventure Door, India","image":"Travel_Adventure_Door.jpg","tags":["travel"],"likes":63,"date":"2019-06-26","price":60,"alt":"photo d\'une porte en arche en Inde ouverte sur un paysage de village et nature au loin"},{"id":6234234343,"photographerId":195,"title":"Contrast, St Petersburg","image":"Architecture_Contrast.jpg","tags":["architecture"],"likes":52,"date":"2019-06-30","price":60,"alt":"photo des toits en forme de bulbe d\'un édifice religieux à Saint-Petersbourg"},{"id":6525666253,"photographerId":195,"title":"On a Hill, Tibet","image":"Architecture_On_a_hill.jpg","tags":["architecture"],"likes":63,"date":"2019-07-20","price":60,"alt":"photo d\'un paysage au Tibet avec village à flan de montagne"},{"id":98252523433,"photographerId":195,"title":"Leaning Tower, Pisa","image":"Architecture_Dome.jpg","tags":["architecture"],"likes":88,"date":"2020-01-05","price":60,"alt":"photo du haut de la tour de Pise sur fond de ciel au soleil couchant"},{"id":9259398453,"photographerId":195,"title":"Circle Highways, Buenos Aires","video":"Architecture_coverr_circle_empty_highway_in_buenos_aires_587740985637.mp4","tags":["architecture"],"likes":57,"date":"2020-01-20","price":65,"alt":"video aérienne d\'un échangeur sur les routes de Buenos Aires et vue sur l\'énorme ville autour"},{"id":3523523534,"photographerId":195,"title":"Corner Building and Blue Sky","image":"Architecture_Corner_Room.jpg","tags":["architecture"],"likes":54,"date":"2020-05-05","price":60,"alt":"photo d\'un immeuble en coin de rue en contre plongée sur fond de ciel bleue"},{"id":952343423,"photographerId":930,"title":"Tricks in the Air","video":"Sport_Tricks_in_the_air.mp4","tags":["sport"],"likes":150,"date":"2018-02-30","price":70,"alt":"video d\'une acrobate effectuant des figures tournoyantes accrochées à un bras à une sangle"},{"id":235234343,"photographerId":930,"title":"Climber","image":"Sport_Next_Hold.jpg","tags":["sport"],"likes":101,"date":"2018-03-05","price":65,"alt":"photo d\'une femme effectuant l\'escalade libre d\'un rocher"},{"id":235343222,"photographerId":930,"title":"Surfer","image":"sport_water_tunnel.jpg","tags":["sport"],"likes":103,"date":"2018-03-10","price":70,"alt":"photo d\'un surfer dans un rouleau"},{"id":7775342343,"photographerId":930,"title":"Skier","image":"Sport_Sky_Cross.jpg","tags":["sport"],"likes":77,"date":"2018-04-16","price":50,"alt":"photo d\'un skieur acrobatique effectuant une figure en l\'air avec les skis en croix"},{"id":9253445784,"photographerId":930,"title":"Race End","image":"Sport_Race_End.jpg","tags":["sport"],"likes":88,"date":"2018-04-22","price":65,"alt":"photo d\'athlètes féminines lors d\'un sprint dans un stade"},{"id":22299394,"photographerId":930,"title":"Jump!","image":"Sport_Jump.jpg","tags":["sport"],"likes":95,"date":"2018-04-27","price":70,"alt":"photo de skaters dans un skatepark au bord de la mer dont l\'un effectue un saut"},{"id":3452342633,"photographerId":930,"title":"White Light","image":"Architecture_White_Light.jpg","tags":["architecture"],"likes":52,"date":"2018-05-03","price":75,"alt":"photo d\'une perspective vers la verrière de toit dans un immeuble entièrement blanc à l\'architecture moderne"},{"id":939234243,"photographerId":930,"title":"Water on Modern Building","image":"Architecture_Water_on_Modern.jpg","tags":["architecture"],"likes":55,"date":"2018-05-10","price":72,"alt":"photo d\'un bâtiment à l\'architecture moderne qui donne l\'impression de former des vagues et de se confondre avec le plan d\'eau au premier plan"},{"id":222959233,"photographerId":930,"title":"Horseshoe","image":"Architecture_Horseshoe.jpg","tags":["architecture"],"likes":85,"date":"2018-05-15","price":71,"alt":"photo de la perspective vers le ciel d\'un bâtiment en noir et blanc à l\'architecture moderne très courbe en forme de fer à cheval"},{"id":965933434,"photographerId":930,"title":"Cross Bar","image":"Architecture_Cross_Bar.jpg","tags":["architecture"],"likes":66,"date":"2018-05-20","price":58,"alt":"photo d\'une perspective en forme de croix vers le ciel d\'un immeuble aux parois vitrées"},{"id":777723343,"photographerId":930,"title":"Connected Curves","image":"Architecture_Connected_Curves.jpg","tags":["architecture"],"likes":79,"date":"2018-05-21","price":80,"alt":"photo de 2 immeubles à l\'architecture moderne aux formes entièrement arrondies connectés par des passerelles"}]}');const t=document.querySelector(".accueil-photographers"),i=document.querySelector(".photographer-page__presentation"),a=document.getElementById("photographer-medias"),r=document.getElementById("likes"),o=document.getElementById("price"),n=document.querySelector("form"),s=document.getElementById("lightbox");function l(e){var t=e.querySelectorAll("a[href], area[href], input:not([disabled]),select:not([disabled]), textarea:not([disabled]),button:not([disabled]), iframe, object, embed, *[tabindex],*[contenteditable]");const i=t[0],a=t[t.length-1];e.addEventListener("keydown",(function(e){e.preventDefault=e.preventDefault||function(){e.returnValue=!1},"Tab"===e.code&&(e.target!==a||e.shiftKey?e.target===i&&e.shiftKey&&(e.preventDefault(),a.focus()):(e.preventDefault(),i.focus()))}),!1)}class d{constructor(e){this.id=e.id,this.name=e.name,this.city=e.city,this.country=e.country,this.tagline=e.tagline,this.price=e.price,this.tags=e.tags,this.portrait=e.portrait}updatePhotographerCards(){const e=document.createElement("article");var i=`<img src="../assets/images/Photographers-ID-Photos/${this.portrait}" alt='' />`,a=`<h2>${this.name}</h2>`,r=`<p class="accueil-photographers__card-content--location">${this.city}, ${this.country}</p><p class="accueil-photographers__card-content--tagline">${this.tagline}</p><p class="accueil-photographers__card-content--price">${this.price}€/jour</p>`;const o=document.createElement("ul");o.setAttribute("aria-label","Navigation secondaire"),o.setAttribute("role","navigation");const n=document.createElement("footer");o.innerHTML=this.tags.map((e=>`<li><a class="tag" href="?id=${e}" role="link" aria-label="tri des photographes par Tag ${e}">#<span class="sr-only">Tag</span>${e}</a></li>`)).join(""),t.appendChild(e),e.classList.add("accueil-photographers__card"),e.innerHTML=`<a class="accueil-photographers__card-link" href="photographer-page.html?id=${this.id}" role="link" alt="${this.name}">${i} ${a}</a><div>${r}</div>`,e.appendChild(n),n.appendChild(o)}updatePhotographerPresentation(){const e=document.createElement("div");i.appendChild(e),e.innerHTML=`<h1>${this.name}</h1><p class="photographer-page__presentation-content--location">${this.city}, ${this.country}</p><p class="photographer-page__presentation-content--tagline">${this.tagline}</p>`;const t=document.createElement("footer");e.appendChild(t);const a=document.createElement("ul");a.innerHTML=this.tags.map((e=>`<li><a class="tag" href="index.html?id=${e}" aria-label="tri des photographes par Tag ${e}">#<span class="sr-only">Tag</span>${e}</a></li>`)).join(""),t.appendChild(a);const r=document.createElement("button");r.setAttribute("class","button contact-button"),r.setAttribute("alt","Contact me"),r.innerText="Contactez-moi",e.appendChild(r);const n=document.createElement("img");n.setAttribute("src",`../assets/images/Photographers-ID-Photos/${this.portrait}`),n.setAttribute("alt",this.name),i.appendChild(n),o.innerText=this.price}}class p{constructor(e){this.id=e.id,this.photographerId=e.photographerId,this.title=e.title,this.image=e.image,this.video=e.video,this.tags=e.tags,this.likes=e.likes,this.date=e.date,this.price=e.price,this.alt=e.alt}displayPhotographerMedias(e,t){t?this.image&&this.tags[0]===t?this.displayPhoto(e):this.video&&this.tags[0]===t&&this.displayVideo(e):this.image?this.displayPhoto(e):this.video&&this.displayVideo(e)}displayPhoto(e){const t=document.createElement("figure");var i=`<a class="photographer-media__link" id="${this.id}" href="#"><img class="photographer-media" src="../assets/images/${e}/${this.image}" alt="${this.alt}" /></a>`;e=`<figcaption><p>${this.title}</p><p class="like-button"><span>${this.likes}</span><button role="button" aria-label="Like button"><svg aria-label="likes" focusable="true" data-prefix="far" data-icon="heart" class="heart" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="30">\n        <path d="M259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"></path></svg></button></p></figcaption>`,t.innerHTML=i+e,a.appendChild(t)}displayVideo(e){const t=document.createElement("div");var i=`<a class="photographer-media__link" id="${this.id}" href="#"><video class="photographer-media"><source src="../assets/images/${e}/${this.video}" alt="${this.alt}" /></video></a>`;e=`<figcaption><p>${this.title}</p><p class="like-button"><span>${this.likes}</span><button role="button" aria-label="Like button"><svg aria-hidden="false" focusable="true" data-prefix="far" data-icon="heart" class="heart" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="30">\n        <path d="M259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"></path></svg></button></p></div>`,t.innerHTML=i+e,a.appendChild(t)}}class c{constructor(){this.checkString=/^[a-zA-Z]{2}/,this.checkMail=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,this.inputs=n.elements,this.input="",this.error="",this.messages=document.querySelectorAll(".message")}getInputs(e){return this.inputs[e]}stringValidation(e){switch(e){case"first":this.input=this.inputs.first,this.error=document.getElementById("error-first");break;case"last":this.input=this.inputs.last,this.error=document.getElementById("error-last");break;default:console.log("validation type error")}return this.checkString.test(this.input.value.trim())?(this.input.classList.remove("invalid"),this.input.classList.add("valid"),this.input.setAttribute("aria-invalid","false"),this.error.classList.remove("span-error"),!(this.error.innerText="")):(this.input.classList.remove("valid"),this.input.classList.add("invalid"),this.input.setAttribute("aria-invalid","true"),"error-first"===this.error.id?this.error.innerText="Veuillez entrer 2 caractères ou plus pour le champ du prénom.":"error-last"===this.error.id&&(this.error.innerText="Veuillez entrer 2 caractères ou plus pour le champ du nom."),this.error.classList.add("span-error"),!1)}emailValidation(){return this.input=this.inputs.email,this.error=document.getElementById("error-email"),this.checkMail.test(this.input.value.trim())?(this.input.classList.remove("invalid"),this.input.classList.add("valid"),this.input.setAttribute("aria-invalid","false"),this.error.classList.remove("span-error"),!(this.error.innerText="")):(this.error.innerText="Vous devez entrer une adresse email valide.",this.input.classList.remove("valid"),this.input.classList.add("invalid"),this.input.setAttribute("aria-invalid","true"),this.error.classList.add("span-error"),!1)}resetForm(){for(var e of(n.reset(),this.inputs))e.classList.remove("valid"),e.classList.remove("invalid");this.messages.forEach((e=>{e.innerText="",e.classList.remove("span-error")}))}}class h{constructor(e){this.lightbox=s,this.slider=e}displayLightbox(e){this.index=e,this.slider[this.index].image?this.lightbox.innerHTML=`<div class='lightbox-content'><button role="button" class="lightbox-content__close-button" aria-label="Close dialog"></button><figure><img tabindex="0" src="../assets/images/${this.slider[this.index].photographerId}/${this.slider[this.index].image}" alt="${this.slider[this.index].alt}" /><figcaption>${this.slider[this.index].title}</figcaption></figure><button role="button" class="lightbox-content__previous-button" aria-label="Previous image"></button><button role="button" class="lightbox-content__next-button" aria-label="Next image"></button></div>`:this.slider[this.index].video&&(this.lightbox.innerHTML=`<div class='lightbox-content'><button role="button" class="lightbox-content__close-button" aria-label="Close dialog"></button><video tabindex= "0" controls><source src="../assets/images/${this.slider[this.index].photographerId}/${this.slider[this.index].video}" alt="${this.slider[this.index].alt}" /><figcaption>${this.slider[this.index].title}</figcaption></video><button role="button" class="lightbox-content__previous-button" aria-label="Previous image"></button><button role="button" class="lightbox-content__next-button" aria-label="Next image"></button></div>`),l(this.lightbox),this.lightbox.firstChild.children[1].firstChild.focus(),document.querySelector(".lightbox-content__close-button").addEventListener("click",(()=>{this.lightbox.style.display="none",this.lightbox.setAttribute("aria-modal","false"),a.firstChild.children[0].focus()})),document.querySelector(".lightbox-content__previous-button").addEventListener("click",(()=>{this.index<=0?this.index=this.slider.length-1:this.index--,this.displayLightbox(this.index)})),document.querySelector(".lightbox-content__next-button").addEventListener("click",(()=>{this.index>=this.slider.length-1?this.index=0:this.index++,this.displayLightbox(this.index)})),document.addEventListener("keydown",(e=>{"ArrowRight"===e.code?(this.index>=this.slider.length-1?this.index=0:this.index++,this.displayLightbox(this.index)):"ArrowLeft"===e.code?(this.index<=0?this.index=this.slider.length-1:this.index--,this.displayLightbox(this.index)):"Escape"===e.code&&(this.lightbox.style.display="none",this.lightbox.setAttribute("aria-modal","false"),a.firstChild.children[0].focus())}))}}const u=e.G,g=e.B,m=["portrait","art","fashion","architecture","travel","sport","animals","events"],v=document.querySelector(".accueil-header__nav"),b=document.createElement("ul");e=window.location.search;const _=new URLSearchParams(e),f=document.querySelector(".photographer-medias__filter-dropdown");let k=document.querySelector(".photographer-medias__filter-dropdown-button--original");const x=["popularité","date","titre"];let y=!1,I=0,j=!1,L=!1,E=!1,T=[],A=!1;function S(e,t){T=[],I=0,g.filter((t=>t.photographerId==e)).forEach((i=>{const a=new p(i);a.displayPhotographerMedias(e,t),t&&i.tags[0]!==t||T.push(a),y||(I+=a.likes,r.innerText=I)})),document.querySelectorAll(".like-button").forEach((e=>{let t=!0;e.addEventListener("click",(()=>{t&&(e.querySelector("span").innerText++,r.innerText++,t=!1)}))})),y=!0,document.querySelectorAll(".photographer-media__link").forEach((e=>e.addEventListener("click",(()=>{var t=T.map((e=>e.id)).indexOf(Number(e.id));s.style.display="block",s.setAttribute("aria-modal","true"),new h(T).displayLightbox(t)}))))}function w(e){f.innerHTML=`<ul id="exp_elem_list" arialabelledby="exp_elem" aria-activedescendant= "exp_elem_${e.target.textContent}" role="listbox" aria-expended="true">`+x.map((e=>`<li role="option" id="exp_elem_${e}" tabindex= "0" class="button photographer-medias__filter-dropdown-button">${e}</li>`)).join("")+"</ul>",l(f),f.querySelector("li").focus(),document.querySelectorAll(".photographer-medias__filter-dropdown-button").forEach((e=>{e.addEventListener("click",C),e.addEventListener("keydown",(e=>{"Enter"===e.code&&C(e)}))})),document.addEventListener("keydown",(e=>{"Escape"===e.code&&P(k.textContent)}))}function C(e){switch(e.target.textContent){case"popularité":for(var t of(g.sort(((e,t)=>e.likes-t.likes)),_))a.innerHTML="",I=0,S(t[1]);break;case"date":for(var i of(g.sort(((e,t)=>e.date>t.date?1:t.date>e.date?-1:0)),_))a.innerHTML="",I=0,S(i[1]);break;case"titre":for(var r of(g.sort(((e,t)=>e.title>t.title?1:t.title>e.title?-1:0)),_))a.innerHTML="",I=0,S(r[1]);break;default:console.log("error dropdown")}P(e.target.textContent)}function P(e){f.innerHTML=`<button role="button" id="exp_button" class="button photographer-medias__filter-dropdown-button--original" role="button" id="exp_button" class="button photographer-medias__filter-dropdown-button--original" aria-haspopup="listbox" aria-labelledby="exp_elem exp_button">${e}</button>`,k=document.querySelector(".photographer-medias__filter-dropdown-button--original"),console.log(a),k.addEventListener("click",w)}t&&function(){let e;for(var i of(v.appendChild(b),m.forEach((e=>{const t=document.createElement("li");t.innerHTML=`<a class="tag" href="?id=${e}" role="link" aria-label="tri des photographes par Tag ${e}">#<span class="sr-only">Tag</span>${e}</a>`,b.appendChild(t)})),_))i&&(e=i[1],console.log(e));e?u.filter((t=>t.tags.includes(e))).forEach((e=>{new d(e).updatePhotographerCards()})):u.forEach((e=>{new d(e).updatePhotographerCards()})),window.addEventListener("scroll",(()=>{if(!A){const e=document.createElement("a");e.classList.add("accueil__scroll-button"),e.setAttribute("href","#accueil-main"),e.innerText="Passer au contenu",t.appendChild(e),A=!0,e.focus()}}))}(),i&&function(){for(let e of _)u.forEach((t=>{if(t.id==e[1]&&(new d(t).updatePhotographerPresentation(),a&&S(t.id),n)){const e=new c,i=document.querySelector(".photographer-modal"),a=document.querySelector(".contact-button"),r=document.querySelector(".close"),o=document.getElementById("success-message");function s(){i.style.display="none",i.setAttribute("aria-modal","false"),e.resetForm(),j=L=E=!1,a.focus()}document.querySelector(".photographer-modal__content-title span").innerText=t.name,a.addEventListener("click",(()=>{i.style.display="block",i.setAttribute("aria-modal","true"),l(i),r.focus()})),r.addEventListener("click",s),document.addEventListener("keydown",(e=>{"Escape"===e.code&&s()})),e.inputs.first.addEventListener("change",(()=>{e.stringValidation("first")})),e.inputs.last.addEventListener("change",(()=>{e.stringValidation("last")})),e.inputs.email.addEventListener("change",(()=>{e.emailValidation()})),n.addEventListener("submit",(i=>{i.preventDefault(),e.stringValidation("first")&&(j=!0),e.stringValidation("last")&&(L=!0),e.emailValidation()&&(E=!0),j&&L&&E&&(console.log("Message pour : "+t.name+"\nPrénom : "+e.getInputs("first").value+"\nNom : "+e.getInputs("last").value+"\nEmail : "+e.getInputs("email").value+"\nMessage : "+e.getInputs("message").value),e.resetForm(),j=L=E=!1,o.innerText="Le message a bien été envoyé !")}))}}))}(),k&&k.addEventListener("click",w)})()})();